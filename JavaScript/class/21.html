<!--
 * @Author       : yznaisy
 * @Date         : 2020-09-17 23:46:54
 * @LastEditors  : yznaisy
 * @LastEditTime : 2020-09-29 22:18:27
-->
<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <title>重写父类方法</title>
</head>

<body></body>
<script>
  /*   class Common {
    sum() {
      return this.data.reduce((t, c) => t + c.price, 0);
    }
    getByKey(key) {
      return this.data.filter(item => item.name.includes(key));
    }
  }
  class Controller extends Common {}
  class Lesson extends Controller {
    constructor(data) {
      super();
      this.data = data;
    }
    info() {
      return {
        totalPrice: super.sum(),
        data: this.data
      };
    }
    getByKey(key) {
      return super.getByKey(key).map(item => item.name);
    }
  }
  let data = [{
      name: "js",
      price: 100
    },
    {
      name: "mysql",
      price: 212
    },
    {
      name: "vue.js",
      price: 98
    }
  ];
  let hd = new Lesson(data);
  console.log(hd.getByKey("js")); */


  /* yznaisy */



  class Common {

    sum() {
      return this.data.reduce((t, c) => t + c.price, 0);
    }
    getKey(key) {
      return this.data.filter(item => item.name.includes(key));
    }
  }

  class Controller extends Common {

  }
  class Lesson extends Controller {
    constructor(data) {
      super();
      this.data = data;
    }
    info() {
      return {
        totalPrice: super.sum(), //在super后面写上父类的方法就可以调用
        data: this.data
      }
    }
    getKey(key) {
      return super.getKey(key).map(item => item.name); //将父类发方法重写
    }
  }
  let data = [{
      name: "js",
      price: 100
    },
    {
      name: "mysql",
      price: 212
    },
    {
      name: "vue.js",
      price: 98
    }
  ];
  console.dir(Lesson);
  let hd = new Lesson(data);
  console.log(hd.info());
  console.log(hd.getKey("mysql"));

</script>

</html>
