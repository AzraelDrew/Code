<!--
 * @Author       : yznaisy
 * @Date         : 2020-05-12 13:57:18
 * @LastEditors  : yznaisy
 * @LastEditTime : 2020-09-20 21:22:13
 * @FilePath     : \Code\html-css-js\js\closure\3.html
-->
<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <title>延申环境生命周期</title>
</head>

<body></body>
<script>
  /*   function hd() {
    let n = 1;
    return function sum() {
      // console.log(++n);
      let m = 1;
      return function show() {
        console.log("m:" + ++m);
        console.log("n:" + ++n);
      };
    };
  }
  let a = hd()();
  a();
  a();
 */

  /* yznaisy */


  function hd() {
    let n = 1;

    return function sum() {
      // console.log(++n);
      let m = 1;

      return function show() {
        console.log("n:" + ++n);
        console.log("m:" + ++m);
      }
    }
  }
  let a = hd()(); //用a来接收返回的代码，show被引用从而使得hd整段代码被引用而不会被删除  使得n和m都是使用旧的值
  //如果只返回sum而不返回show 那么m的值一直是2  n的值会一直增加
  console.log(a);
  a();
  a();
  let b = hd()();
  b();
  b();

</script>

</html>
