<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <title>后盾人</title>
</head>

<body>
  <main>
    <a id="hd" href="https://www.houdunren.com">后盾人</a>
    <a href="https://www.hdcms.com">hdcms</a>
    <a href="https://www.sina.com.cn">新浪</a>
  </main>
</body>
<script>
  /*   // [{link:'',title:''}]
  const main = document.querySelector("body main");
  const reg = /<a.*?href=(['"])(?<link>.*?)\1>(?<title>.*?)<\/a>/gi;
  const links = [];
  for (const iterator of main.innerHTML.matchAll(reg)) {
    links.push(iterator["groups"]);
    console.dir(iterator);
    // console.log(iterator["groups"]);
  }
  // console.log(links); */




  /* yznaisy */
  let main = document.querySelector("main").innerHTML;
  // let reg = /<a.*?href=(["'])(?<link>https?:\/\/([\w+.]+)*(com|cn|org))\1>(?<title>.*?)<\/a>/gi;
  //使用matchAll方法必须使用全局模式
  //自定义的原型方法不需要使用全局模式
  let reg = /<a.*?href=(["'])(?<link>.*?)\1>(?<title>.*?)<\/\a>/gi;
  const links = [];
  for (const iterator of main.matchAll(reg)) {
    // console.dir(iterator);
    links.push(iterator["groups"])
  }
  // console.dir(links);
  console.log(JSON.stringify(links, null, 2));
  // console.log(main.match(reg));
  // console.log(main);
  // console.log(links[0].link);
  const title = []
  for (const iterator of links) {
    // console.log(iterator);
    title.push(`${iterator.link}-${iterator.title}`)
  }
  console.log(JSON.stringify(title, null, 4));

</script>

</html>
