<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script src="../vue.js"></script>
    <style>
        #effect {
            width: 100px;
            height: 100px;
            border: 1px solid black;
        }

        .highlight {
            background-color: red;
            width: 200px !important;
        }

        .shrink {
            background-color: gray;
            width: 50px !important;
        }

        .blue {
            background-color: blue;
        }

        .float {
            float: right;
        }

        .text-color {
            color: yellow;
        }

        .visible {
            width: 200px;
            height: 200px;
        }

        .progress-bar {
            width: 200px;
            height: 20px;
            border: 1px solid black;
        }
    </style>
</head>

<body>
    <div id="app">
        <div>
            <button @click="statEffect">Start Effect</button>
            <div id="effect" :class="effectClasses"></div>
        </div>
        <div :class="['float','blue','text-color']">I got no class</div>
        <!-- 默认有visible类，也可以添加已有的类 -->
        <div>
            <input type="text" v-model="userClass">
            <div :class="[{visible:true},userClass]"></div>
        </div>
        <!--用户可以添加已有的类，或者选择是否显示div  -->
        <div>
            <input type="text" v-model="userClass">
            <input type="text" v-model="isVisible"> <!-- 输入false或true都会显示div只有什么都不输入才不会显示div，因为输入的值是字符串，会直接转换为true -->
            <div :class="[{visible:isVisible},userClass]">
            </div>
        </div>
        <!-- 用户输入更改背景颜色 -->
        <div>
            <input type="text" v-model="myStyle.backgroundColor">
            <div :style="myStyle"></div>
        </div>
        <!-- 进度条 -->
        <div>
            <button @click="startProgress">Start Progress</button>
            <div :class="['progress-bar']">
                <div :class="['progress-bar']" :style="progressBar"></div>
            </div>
        </div>
    </div>
</body>
<script>
    new Vue({
        el: "#app",
        data: {
            effectClasses: {
                highlight: false, //为true时添加此类，false反之
                shrink: true,
            },
            userClass: "",
            isVisible: true,
            myStyle: {
                height: "200px",
                width: "300px",
                backgroundColor: "gray"
            },
            progressBar: {
                width: 0,
                backgroundColor: "red",
                border: 0
            }
        },
        methods: {
            //每隔一秒更换样式
            statEffect: function () {
                setInterval(() => {
                    this.effectClasses.highlight = !this.effectClasses.highlight
                    this.effectClasses.shrink = !this.effectClasses.shrink
                }, 1000);
            },
            // 进度条
            startProgress: function () {
                let width = 0;
                let a = setInterval(() => {
                    width += 10;
                    this.progressBar.width = width + "px";
                    if (width == 200) {
                        clearInterval(a);
                    }
                }, 500)
            }
        }
    })
</script>

</html>