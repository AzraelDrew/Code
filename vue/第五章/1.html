<!--
 * @Author       : yznaisy
 * @Date         : 2020-06-30 21:53:09
 * @LastEditors  : yznaisy
 * @LastEditTime : 2020-07-04 22:35:25
 * @FilePath     : \Code\vue\第五章\1.html
-->
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vue</title>
    <script src="../vue.js"></script>
</head>

<body>
    <div id="app1">
        <h1 ref="heading">{{title}}--{{lowercaseTitle}}</h1>
        <button @click="show" ref="myButton">Show Paragraph</button>
        <p v-if="showParagraph">This is not always visible</p>
    </div>



    <div id="app2">
        <h1>{{title}}</h1>
        <button @click="onChange">Chaeng sonting in Vue 1</button>
        <p v-if="showParagraph">This is not always visible</p>
    </div>
    <script>
        var app1 = new Vue({
            el: "#app1",
            data: {
                title: "The VueJS Instancd",
                showParagraph: false,
            },
            computed: {
                lowercaseTitle: function () {
                    return this.title.toUpperCase();
                }
            },
            methods: {
                show: function () {
                    this.showParagraph = true;
                    this.updateTitle("The VueJS Instancd (Updatee)");
                    // console.log(this.$refs);
                    // 输出按钮文字
                    console.log(this.$refs.heading.innerHTML);
                    console.log(this.$refs.myButton.innerHTML);
                    //更改按钮文字
                    this.$refs.myButton.innerHTML = "TSET";
                    console.log(this.$refs.myButton.innerHTML);
                },
                updateTitle: function (title) {
                    this.title = title;
                },
            },
            //data中相对应的属性发生变化时会执行的函数
            watch: {
                title: function (value) {
                    alert("Title changed, new value: " + value);
                }
            },
        });
        //多个Vue实例
        var data = {
            title: "The VueJS Instancd",
            showParagraph: false
        }
        var app2 = new Vue({
            el: "#app2",
            data: data,
            methods: {
                //一个Vue实例访问另一个Vue实例
                onChange: function () {
                    app1.title = "Changed!";
                    app1.$refs.myButton.innerHTML = "Changed";
                    console.log(app2.$data.title);
                }
            }
        });
        //外部访问Vue实例
        // setTimeout(function () {
        //     app1.title = "Change by Timer";
        //     app1.show();
        // }, 1000)
        // 此方法创建的属性没有响应式，此方法创建的属性没有get，set方法
        app1.newPro = "Change";
        console.log(app2);
        //$data在Vue实例内外都能访问
        console.log(app2.$data == data);
        console.log(app2.$data.title);
        //$refs在Vue实例内外都能访问,不是相应式的，而是直接操作DOM(不是Vue实例)
        console.log(app1.$refs);
        // app1.$refs.heading.innerHTML = "Somrting else";
        let a = 'AsdgFasdv';
    </script>
</body>

</html>